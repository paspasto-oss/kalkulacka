<!doctype html>
<html lang="sk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kalkulačka – cena tepla a ročné náklady</title>
<style>
  :root{--brand:#d60000;--bg:#0f172a;--card:#111827;--ink:#e5e7eb;--muted:#94a3b8}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif}
  .wrap{max-width:960px;margin:32px auto;padding:0 16px}
  h1{font-size:1.6rem;margin:0 0 8px}
  .card{background:var(--card);border:1px solid #1f2937;border-radius:16px;padding:16px 16px 4px 16px;margin:14px 0}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .col-6{grid-column:span 6}
  .col-4{grid-column:span 4}
  .col-12{grid-column:span 12}
  label{display:block;font-size:.92rem;color:var(--muted);margin:6px 0}
  input{width:100%;padding:10px;border-radius:10px;border:1px solid #374151;background:#0b1220;color:#e5e7eb}
  .btn{background:var(--brand);color:#fff;border:none;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
  .row{display:flex;gap:10px;align-items:center;margin:12px 0}
  .result{font-size:1.05rem;background:#0b1220;border:1px dashed #334155;border-radius:12px;padding:12px}
  small{color:var(--muted)}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Energetická kalkulačka – cena tepla a ročné náklady</h1>
    <div class="card">
      <div class="grid">
        <div class="col-4">
          <label>Ročná potreba tepla (kWh)</label>
          <input type="number" id="Q" placeholder="13000" step="1">
          <small>Ak nevieš, pre 200 m² stredne zateplený dom ~13 000 kWh</small>
        </div>

        <div class="col-4">
          <label>Cena elektriny (€/kWh)</label>
          <input type="number" id="elCena" placeholder="0.20" step="0.001">
        </div>
        <div class="col-4">
          <label>SCOP/COP tepelného čerpadla (–)</label>
          <input type="number" id="cop" placeholder="3.2" step="0.1">
        </div>

        <div class="col-4">
          <label>Cena plynu (€/kWh)</label>
          <input type="number" id="plynCena" placeholder="0.096" step="0.001">
        </div>
        <div class="col-4">
          <label>Účinnosť plynového kotla (%)</label>
          <input type="number" id="plynEta" placeholder="95" step="1" min="1" max="100">
        </div>

        <div class="col-4">
          <label>Cena peliet (€/t)</label>
          <input type="number" id="pelCena" placeholder="300" step="1">
        </div>
        <div class="col-4">
          <label>Výhrevnosť peliet (kWh/t)</label>
          <input type="number" id="pelVH" placeholder="4800" step="1">
        </div>
        <div class="col-4">
          <label>Účinnosť peletového kotla (%)</label>
          <input type="number" id="pelEta" placeholder="88" step="1" min="1" max="100">
        </div>

        <div class="col-4">
          <label>Cena dreva (€/prm)</label>
          <input type="number" id="drvCena" placeholder="80" step="1">
        </div>
        <div class="col-4">
          <label>Výhrevnosť dreva (kWh/prm)</label>
          <input type="number" id="drvVH" placeholder="1900" step="1">
        </div>
        <div class="col-4">
          <label>Účinnosť kotla na drevo (%)</label>
          <input type="number" id="drvEta" placeholder="80" step="1" min="1" max="100">
        </div>

        <div class="col-12 row">
          <button class="btn" id="calcBtn">Vypočítať</button>
          <small>Všetky polia majú **placeholder**, žiadna „fixná nula“. Pri kliknutí sa 0 automaticky vymaže a po opustení prázdneho poľa sa vráti.</small>
        </div>

        <div class="col-12 result" id="out">Zadajte hodnoty a kliknite Vypočítať.</div>
      </div>
    </div>
  </div>

<script>
/* --- Globálne: oprava „fixnej nuly“ pre VŠETKY number inputy --- */
document.querySelectorAll('input[type=number]').forEach(function (input) {
  // ak by si chcel predvyplniť 0, môžeš ponechať value="0" a to sa tu vymaže pri fókus
  input.addEventListener('focus', function () {
    if (this.value === '0') this.value = '';
  });
  input.addEventListener('blur', function () {
    if (this.value === '') this.value = ''; // nepridávame späť 0, nech ostane prázdne
  });
});

/* --- Pomocné funkcie --- */
const num = (id, fallback=0) => {
  const v = parseFloat(document.getElementById(id).value || document.getElementById(id).placeholder);
  return isFinite(v) ? v : fallback;
};
const fmt = (x, d=2) => Number(x).toFixed(d);

/* --- Výpočet --- */
document.getElementById('calcBtn').addEventListener('click', function(){
  const Q = num('Q', 13000);             // ročná potreba tepla [kWh]
  const elCena = num('elCena', 0.20);    // €/kWh
  const cop = num('cop', 3.2);           // –
  const plynCena = num('plynCena', 0.096); // €/kWh
  const plynEta = num('plynEta', 95)/100;  // %
  const pelCena = num('pelCena', 300);     // €/t
  const pelVH = num('pelVH', 4800);        // kWh/t
  const pelEta = num('pelEta', 88)/100;    // %
  const drvCena = num('drvCena', 80);      // €/prm
  const drvVH = num('drvVH', 1900);        // kWh/prm
  const drvEta = num('drvEta', 80)/100;    // %

  // TC: elektrická energia = Q / COP
  const tcEl = Q / cop;                         // kWh el./rok
  const tcCost = tcEl * elCena;                 // € / rok
  const tcKwh = elCena / cop;                   // €/kWh tepla

  // Plyn: cena/kWh tepla = plynCena / účinnosť
  const plynKwh = plynCena / plynEta;
  const plynCost = Q * plynKwh;

  // Pelety:
  const pelKwhPrice = (pelCena / pelVH) / pelEta; // €/kWh tepla
  const pelCost = Q * pelKwhPrice;

  // Drevo:
  const drvKwhPrice = (drvCena / drvVH) / drvEta;
  const drvCost = Q * drvKwhPrice;

  const out = `
  <b>Výsledky – cena tepla a ročné náklady</b><br><br>
  <b>Tepelné čerpadlo:</b> ${fmt(tcKwh,3)} €/kWh • ročné náklady <b>${fmt(tcCost)} €</b> (spotreba el.: ${fmt(tcEl)} kWh)<br>
  <b>Plyn:</b> ${fmt(plynKwh,3)} €/kWh • ročné náklady <b>${fmt(plynCost)} €</b><br>
  <b>Pelety:</b> ${fmt(pelKwhPrice,3)} €/kWh • ročné náklady <b>${fmt(pelCost)} €</b><br>
  <b>Drevo:</b> ${fmt(drvKwhPrice,3)} €/kWh • ročné náklady <b>${fmt(drvCost)} €</b><br><br>
  <small>Tip: percentá zadávaj ako celé čísla (napr. 80 = 80 %).</small>
  `;
  document.getElementById('out').innerHTML = out;
});
</script>
</body>
</html>
